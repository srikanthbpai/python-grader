<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Code Grader</title>
</head>
<body>
    <h1>Python Code Grader</h1>

    <label for="nameInput">Your Name:</label>
    <input type="text" id="nameInput" placeholder="Enter your name" required>

    <label for="codeInput">Your Python Code:</label>
    <textarea id="codeInput" placeholder="Enter your Python code" rows="10"></textarea>

    <button onclick="submitCode()">Submit</button>

    <p id="responseMessage"></p>

    <script>
        function submitCode() {
            let code = document.getElementById("codeInput").value; // Get student code
            let studentName = document.getElementById("nameInput").value; // Get student name

            if (!studentName || !code) {
                alert("Please enter both name and code before submitting.");
                return;
            }

            fetch("https://script.google.com/macros/s/AKfycbxvsam6LZXxc0KJ7fvempRbPlFWBXQrr3d5GCnwlXIKo7BR4PWJkTmYBAobhHhPj89znQ/exec", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name: studentName, code: code })
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById("responseMessage").innerText = "Submission Successful: " + data.message;
            })
            .catch(error => {
                console.error("Error:", error);
                document.getElementById("responseMessage").innerText = "Submission failed. Try again.";
            });
        }
    </script>
</body>
</html>